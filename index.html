<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="template.css" />
  </head>

  <body>
    <div class="dashboard-container">
      <div class="sidebar" id="sidebar">
        <div class="flex start header">
          <div class="toggle-btn">
            <button id="toggle-sidebar-btn">â˜°</button>
          </div>
          <h1 class="logo">Kabootar</h1>
        </div>
        <!-- Sidebar content goes here -->
        <div class="sidebar-content">
          <ul>
            <li>
              <a href="#"
                ><img src="./img/file-invoice.svg" alt="" /><span
                  >Compose</span
                ></a
              >
            </li>
            <li>
              <a href="#"
                ><img src="./img/money-check-edit.svg" alt="" /><span
                  >Inbox</span
                ></a
              >
            </li>
            <li>
              <a href="#"
                ><img src="./img/arrow-up-right.svg" alt="" /><span
                  >Sent</span
                ></a
              >
            </li>
            <li>
              <a href="#"
                ><img src="./img/books.svg" alt="" /><span>Archive</span></a
              >
            </li>
            <li>
              <a href="#"
                ><img src="./img/file-circle-info.svg" alt="" /><span
                  >Draft</span
                ></a
              >
            </li>
            <li>
              <a href="#"
                ><img src="./img/comment-info.svg" alt="" /><span>Spam</span></a
              >
            </li>
            <li>
              <a href="#"
                ><img src="./img/trash-clock.svg" alt="" /><span
                  >Trashed</span
                ></a
              >
            </li>
          </ul>
        </div>
        <div class="sidebar-footer">
          <a href="#"
            ><img src="./img/customize.svg" alt="" /><span>Setting</span></a
          >
        </div>
        <!-- Include a button/icon for toggling -->
      </div>
      <div class="main-content" style="background-color: #ffffff">
        <!-- Main content goes here -->
        <div class="top-header between">
          <h2>Inbox</h2>
          <div class="flex">
            <img src="./img/circle-user.svg" alt="" width="36px" />
          </div>
        </div>
        <div class="main-container">
          <div class="container">
            <div class="header between pl-6">
              <div class="start pl-16">
                <input type="checkbox" name="name" id="" />
                <h5 class="pl-16">Most Recent</h5>
              </div>
              <h5 class="p-2">jno</h5>
            </div>
            <div class="body">
              <div class="mail-content">
                <div
                  class="mail-element"
                  style="border-bottom: 1px dashed grey"
                >
                  <div class="left-side">
                    <input type="checkbox" name="name" id="" />
                    <div class="image-box bg-green">
                      <img src="./img/user.svg" width="24px" height="24px" />
                    </div>
                  </div>
                  <div class="right-side">
                    <h4>Ankit Sethia</h4>
                    <div class="message-text">
                      <div
                        class="mail-text"
                        style="overflow: hidden; height: 18px"
                      >
                        <strong
                          >Lorem ipsum dolor sit amet consectetur -
                        </strong>
                        <span
                          >adipisicing elit. Nemo voluptas veniam, magnam ipsum
                          quia debitis aliquid ipsa? Excepturi natus nam optio
                          aspernatur!</span
                        >
                      </div>
                      <div
                        class="message-time"
                        style="width: 64px; position: relative; right: 0"
                      >
                        <strong><small>11 Mar</small></strong>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  class="mail-element"
                  style="border-bottom: 1px dashed grey"
                >
                  <div class="left-side">
                    <input type="checkbox" name="name" id="" />
                    <div class="image-box bg-green">
                      <img src="./img/user.svg" width="24px" height="24px" />
                    </div>
                  </div>
                  <div class="right-side">
                    <h4>Ankit Sethia</h4>
                    <div class="message-text">
                      <div
                        class="mail-text"
                        style="overflow: hidden; height: 18px"
                      >
                        <strong
                          >Lorem ipsum dolor sit amet consectetur -
                        </strong>
                        <span
                          >adipisicing elit. Nemo voluptas veniam, magnam ipsum
                          quia debitis aliquid ipsa? Excepturi natus nam optio
                          aspernatur!</span
                        >
                      </div>
                      <div class="message-time" style="width: 64px">
                        <strong><small>11 Mar</small></strong>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  class="mail-element"
                  style="border-bottom: 1px dashed grey"
                >
                  <div class="left-side">
                    <input type="checkbox" name="name" id="" />
                    <div class="image-box bg-green">
                      <img src="./img/user.svg" width="24px" height="24px" />
                    </div>
                  </div>
                  <div class="right-side">
                    <h4>Ankit Sethia</h4>
                    <div class="message-text">
                      <div
                        class="mail-text"
                        style="overflow: hidden; height: 18px"
                      >
                        <strong
                          >Lorem ipsum dolor sit amet consectetur -
                        </strong>
                        <span
                          >adipisicing elit. Nemo voluptas veniam, magnam ipsum
                          quia debitis aliquid ipsa? Excepturi natus nam optio
                          aspernatur!</span
                        >
                      </div>
                      <div class="message-time" style="width: 64px">
                        <strong><small>11 Mar</small></strong>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Retrieve the collapsed state from localStorage on page load
      document.addEventListener("DOMContentLoaded", function () {
        var isSidebarCollapsed = localStorage.getItem("isSidebarCollapsed");
        var sidebar = document.getElementById("sidebar");

        if (isSidebarCollapsed === "true") {
          sidebar.classList.add("collapsed");
          logoelement.classList.toggle("hidden");
          navitem.forEach((element) => {
            element.classList.toggle("hidden");
          });
        }
      });

      const sidebarcontent = document.getElementsByClassName("sidebar")[0];
      const navitem = sidebarcontent.querySelectorAll("span");
      const maincontent = document.querySelector(".main-content");
      const messagebody = maincontent.querySelector(".mail-content");

      let logoelement = document.querySelector(".sidebar");
      logoelement = logoelement.querySelector(".logo");

      function hideContent(navitem) {}

      document
        .getElementById("toggle-sidebar-btn")
        .addEventListener("click", function () {
          var sidebar = document.getElementById("sidebar");
          sidebar.classList.toggle("collapsed");
          logoelement.classList.toggle("hidden");
          navitem.forEach((element) => {
            element.classList.toggle("hidden");
          });

          // Store the collapsed state in localStorage
          var isCollapsed = sidebar.classList.contains("collapsed");
          localStorage.setItem("isSidebarCollapsed", isCollapsed);
        });

      var sidebar = document.getElementById("sidebar");
      sidebar.style.height = window.innerHeight + "px";
      messagebody.style.height = window.innerHeight - 148 + "px";
      // Update collapsed state on window resize
      window.addEventListener("resize", function () {
        var viewportWidth =
          window.innerWidth || document.documentElement.clientWidth;
        sidebar.style.height = window.innerHeight + "px";
        messagebody.style.height = window.innerHeight - 148 + "px";

        if (viewportWidth <= 768) {
          sidebar.classList.add("collapsed");
          logoelement.classList.add("hidden");
          navitem.forEach((element) => {
            element.classList.add("hidden");
          });
        } else {
          sidebar.classList.remove("collapsed");
          logoelement.classList.remove("hidden");
          navitem.forEach((element) => {
            element.classList.remove("hidden");
          });
        }
      });
    </script>

    <!-- <script>
      const mailtext = document.querySelectorAll(".mail-text");
      window.addEventListener("resize", function () {
        mailtext.forEach((element) => {
          element.style.display = "inline";
          element.style.whiteSpace = "nowrap";
          element.style.width = element.clientWidth + "px";
          console.log(element.clientWidth);
        });
      });
    </script> -->
  </body>
</html>
